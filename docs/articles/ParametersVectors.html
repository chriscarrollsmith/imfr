<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ParametersVectors • imfr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="ParametersVectors">
<meta property="og:description" content="imfr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">imfr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ParametersList.html">ParametersList</a>
    </li>
    <li>
      <a href="../articles/ParametersVectors.html">ParametersVectors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/chriscarrollsmith/imfr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>ParametersVectors</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/chriscarrollsmith/imfr/blob/HEAD/vignettes/ParametersVectors.Rmd" class="external-link"><code>vignettes/ParametersVectors.Rmd</code></a></small>
      <div class="hidden name"><code>ParametersVectors.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="downloading-commodity-price-data-with-imfr-using-input-code-vectors">Downloading Commodity Price Data with imfr Using Input Code
Vectors<a class="anchor" aria-label="anchor" href="#downloading-commodity-price-data-with-imfr-using-input-code-vectors"></a>
</h2>
<p>Say you want to fetch a series of precious metal prices from the
International Monetary Fund API endpoint using the imfr library. There
are two ways to accomplish this with the imf_data function: by supplying
a parameters list object or by supplying input code vectors. In this
vignette, we will use the second method.</p>
<p>First, we load the imfr library. We will also use dplyr, stringr,
ggplot2, and knitr.</p>
<div class="section level3">
<h3 id="finding-the-commodity-price-database_id-using-imf_databases">Finding the Commodity Price database_id Using imf_databases<a class="anchor" aria-label="anchor" href="#finding-the-commodity-price-database_id-using-imf_databases"></a>
</h3>
<p>There are just four core imfr functions. First we’ll need to use
imf_databases to get the database code for commodities prices.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">databases</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/imf_databases.html">imf_databases</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">databases</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="12%">
<col width="87%">
</colgroup>
<thead><tr class="header">
<th align="left">database_id</th>
<th align="left">description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">BOP_2017M06</td>
<td align="left">Balance of Payments (BOP), 2017 M06</td>
</tr>
<tr class="even">
<td align="left">BOP_2020M3</td>
<td align="left">Balance of Payments (BOP), 2020 M03</td>
</tr>
<tr class="odd">
<td align="left">BOP_2017M11</td>
<td align="left">Balance of Payments (BOP), 2017 M11</td>
</tr>
<tr class="even">
<td align="left">DOT_2020Q1</td>
<td align="left">Direction of Trade Statistics (DOTS), 2020 Q1</td>
</tr>
<tr class="odd">
<td align="left">GFSMAB2016</td>
<td align="left">Government Finance Statistics Yearbook (GFSY 2016),
Main Aggregates and Balances</td>
</tr>
<tr class="even">
<td align="left">BOP_2019M12</td>
<td align="left">Balance of Payments (BOP), 2019 M12</td>
</tr>
</tbody>
</table>
<p>This data frame contains a ‘database_id’ column and a ‘description’
column, with 259 rows. Each row represents a database listed as
available through the IMF API. To locate the commodities price database,
we will search the description column using str_detect from the stringr
package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">commodity_db</span> <span class="op">&lt;-</span> <span class="va">databases</span><span class="op">[</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">databases</span><span class="op">$</span><span class="va">description</span><span class="op">)</span>,<span class="st">"commodity price"</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="va">commodity_db</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">database_id</th>
<th align="left">description</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">245</td>
<td align="left">PCPS</td>
<td align="left">Primary Commodity Price System (PCPS)</td>
</tr></tbody>
</table>
</div>
<div class="section level3">
<h3 id="finding-parameters-and-valid-input-codes-for-api-requests-using-imf_parameters">Finding Parameters and Valid Input Codes for API Requests using
imf_parameters<a class="anchor" aria-label="anchor" href="#finding-parameters-and-valid-input-codes-for-api-requests-using-imf_parameters"></a>
</h3>
<p>Next we need to get a list of parameters and valid input codes for
our API request. For this, we need to feed our database ID into the
imf_parameters function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/imf_parameters.html">imf_parameters</a></span><span class="op">(</span><span class="va">commodity_db</span><span class="op">$</span><span class="va">database_id</span><span class="op">)</span></span></code></pre></div>
<p>Investigating the returned object, we see that it is a named list of
data frames, and that each data frame has two columns, named
‘imput_code’ and ‘description’:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "list"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "freq"         "ref_area"     "commodity"    "unit_measure"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">params</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">input_code</th>
<th align="left">description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A</td>
<td align="left">Annual</td>
</tr>
<tr class="even">
<td align="left">M</td>
<td align="left">Monthly</td>
</tr>
<tr class="odd">
<td align="left">Q</td>
<td align="left">Quarterly</td>
</tr>
</tbody>
</table>
<p>In case the parameter names are not self-explanatory, we can get
additional detail on what each parameter represents by calling the
imf_parameter_defs function:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/imf_parameter_defs.html">imf_parameter_defs</a></span><span class="op">(</span><span class="va">commodity_db</span><span class="op">$</span><span class="va">database_id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">parameter</th>
<th align="left">description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">freq</td>
<td align="left">Frequency</td>
</tr>
<tr class="even">
<td align="left">ref_area</td>
<td align="left">Geographical Areas</td>
</tr>
<tr class="odd">
<td align="left">commodity</td>
<td align="left">Indicator</td>
</tr>
<tr class="even">
<td align="left">unit_measure</td>
<td align="left">Unit</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="modifying-a-parameters-list-and-supplying-it-to-imf_data">Modifying a Parameters List and Supplying It to imf_data<a class="anchor" aria-label="anchor" href="#modifying-a-parameters-list-and-supplying-it-to-imf_data"></a>
</h3>
<p>Let’s say we want the global gold and silver prices at annual
frequency. To make our API request, we will filter each data frame in
our ‘params’ list object, and then we will feed the modified list object
into the imf_data function.</p>
<p>First, we search the frequency data frame using str_detect to fetch
the input code for “Annual” frequency:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">selected_freq</span> <span class="op">&lt;-</span> <span class="va">params</span><span class="op">$</span><span class="va">freq</span><span class="op">$</span><span class="va">input_code</span><span class="op">[</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">freq</span><span class="op">$</span><span class="va">description</span><span class="op">)</span>,<span class="st">"annual"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">selected_freq</span></span>
<span><span class="co">#&gt; [1] "A"</span></span></code></pre></div>
<p>There is only one geographical area code in the geographical areas
data frame, so we won’t bother supplying a code to imf_data for this
parameter. (If you don’t supply a code for a given parameter, imf_data
will attempt to return all values for that parameter.)</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span><span class="op">$</span><span class="va">ref_area</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">input_code</th>
<th align="left">description</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">W00</td>
<td align="left">All Countries, excluding the IO</td>
</tr></tbody>
</table>
<p>Next we search the commodity indicator data frame for “gold” and
“silver”:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span><span class="op">$</span><span class="va">commodity</span><span class="op">[</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">commodity</span><span class="op">$</span><span class="va">description</span><span class="op">)</span>,<span class="st">"gold"</span><span class="op">)</span> <span class="op">|</span></span>
<span>                 <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">commodity</span><span class="op">$</span><span class="va">description</span><span class="op">)</span>,<span class="st">"silver"</span><span class="op">)</span>,<span class="op">]</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="13%">
<col width="83%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">input_code</th>
<th align="left">description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">4</td>
<td align="left">PEXGMETA</td>
<td align="left">Primary Commodity Prices, All Metals EX GOLD Index</td>
</tr>
<tr class="even">
<td align="left">24</td>
<td align="left">PEXGALL</td>
<td align="left">Primary Commodity Prices, Commodities for Index: All,
excluding Gold</td>
</tr>
<tr class="odd">
<td align="left">39</td>
<td align="left">PGOLD</td>
<td align="left">Primary Commodity Prices, Gold</td>
</tr>
<tr class="even">
<td align="left">81</td>
<td align="left">PSILVER</td>
<td align="left">Primary Commodity Prices, Silver</td>
</tr>
</tbody>
</table>
<p>The first two results aren’t what we want, so we fetch only the third
and fourth input codes:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">selected_commodities</span> <span class="op">&lt;-</span> <span class="va">params</span><span class="op">$</span><span class="va">commodity</span><span class="op">$</span><span class="va">input_code</span><span class="op">[</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">commodity</span><span class="op">$</span><span class="va">description</span><span class="op">)</span>,<span class="st">"gold"</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">commodity</span><span class="op">$</span><span class="va">description</span><span class="op">)</span>,<span class="st">"silver"</span><span class="op">)</span><span class="op">]</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">selected_commodities</span></span>
<span><span class="co">#&gt; [1] "PGOLD"   "PSILVER"</span></span></code></pre></div>
<p>Next, we see what unit prices are available. Note that although
“All_Units” and “USD” are listed here as valid request codes, these
codes do not actually appear in the database, so attempting to use them
in a request will return no results. The IMF API is full of unfortunate
wrinkles like this, which you can only discover through trial and
error.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span><span class="op">$</span><span class="va">unit_measure</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="84%">
</colgroup>
<thead><tr class="header">
<th align="left">input_code</th>
<th align="left">description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">IX</td>
<td align="left">Index</td>
</tr>
<tr class="even">
<td align="left">PC_CP_A_PT</td>
<td align="left">Percent Change, Corresponding Period, Previous Year,
Percent</td>
</tr>
<tr class="odd">
<td align="left">PC_PP_PT</td>
<td align="left">Percent Change, Previous Period, Percent</td>
</tr>
<tr class="even">
<td align="left">USD</td>
<td align="left">US Dollars</td>
</tr>
<tr class="odd">
<td align="left">All_Units</td>
<td align="left">All Units</td>
</tr>
</tbody>
</table>
<p>For our purposes, the index will do just fine:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">selected_unit_measure</span> <span class="op">&lt;-</span> <span class="va">params</span><span class="op">$</span><span class="va">unit_measure</span><span class="op">$</span><span class="va">input_code</span><span class="op">[</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">unit_measure</span><span class="op">$</span><span class="va">description</span><span class="op">)</span>,<span class="st">"index"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">selected_unit_measure</span></span>
<span><span class="co">#&gt; [1] "IX"</span></span></code></pre></div>
<p>Finally, we can feed our input code vectors to the imf_data data
function as its ‘freq’, ‘commodity’, and ‘unit_measure’ arguments. For
illustration purposes, we will only request data for the years from 1995
to 2010.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/imf_data.html">imf_data</a></span><span class="op">(</span>database_id <span class="op">=</span> <span class="va">commodity_db</span><span class="op">$</span><span class="va">database_id</span>,</span>
<span>               freq <span class="op">=</span> <span class="va">selected_freq</span>,</span>
<span>               commodity <span class="op">=</span> <span class="va">selected_commodities</span>,</span>
<span>               unit_measure <span class="op">=</span> <span class="va">selected_unit_measure</span>,</span>
<span>               start_year<span class="op">=</span><span class="fl">1995</span>,end_year<span class="op">=</span><span class="fl">2010</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in curl::curl_fetch_memory(url, handle = handle): Failure when receiving data from the peer</span></span>
<span><span class="co">#&gt; Request failed [ERROR]. Retrying in 1.7 seconds...</span></span>
<span><span class="co">#&gt; Error in curl::curl_fetch_memory(url, handle = handle): Failure when receiving data from the peer</span></span>
<span><span class="co">#&gt; Request failed [ERROR]. Retrying in 2.1 seconds...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="working-with-the-returned-data-frame">Working with the Returned Data Frame<a class="anchor" aria-label="anchor" href="#working-with-the-returned-data-frame"></a>
</h3>
<p>Note that all columns in the returned data frame are character
vectors, and that to plot the series we will need to convert to valid
numeric or date formats:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span>,</span>
<span>           value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">date</span>,y<span class="op">=</span><span class="va">value</span>,color<span class="op">=</span><span class="va">commodity</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="ParametersVectors_files/figure-html/plot-1.png" width="700"></p>
<p>Congratulations on your first successful IMF API request using input
code vectors!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Christopher Gandrud, Christopher Smith.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
